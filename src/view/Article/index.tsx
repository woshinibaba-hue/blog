import React, { useState, useEffect } from 'react'

import { Badge, Tag } from 'antd'
import { LikeFilled, MessageFilled } from '@ant-design/icons'

import storage from '@/utils/storage'

import ParseMd from '@/components/ParseMd'
import Comment from '@/components/Comment'

import { ArticleStyle } from './style'

const Article = () => {
  const mdStr = `
## æ–‡ç« ä¸»é¢˜
é™Œç”Ÿäººä½ å¥½ï¼Œæˆ‘æ˜¯ä¸€åèœé¸¡ï¼Œä¸€åæ­£åœ¨åŠªåŠ›çš„èœé¸¡ã€‚ä»åå­—å°±å¯ä»¥çœ‹å‡ºï¼Œæˆ‘å¹¶ä¸æ˜¯ä»€ä¹ˆå¤§ä½¬ï¼Œåªæ˜¯ä¸€åæ™®æ™®é€šé€šçš„å¤§å­¦ç”Ÿã€‚
2020 å¹´åœ¨ç–«æƒ…è‚†è™çš„å¹´ä»£ï¼Œä¹Ÿæ˜¯æˆ‘æ¥è§¦å‰ç«¯çš„å¼€å§‹ï¼Œåœ¨è¿™å¹´åæœˆåº•ï¼Œæˆ‘é¢ä¸´ç€æ‰¾å·¥ä½œå¸¦ç»™æˆ‘çš„å‹è¿«æ„Ÿï¼ŒåŒå­¦ä»¬éƒ½æ‰¾åˆ°äº†è‡ªå·±æ»¡æ„çš„å·¥ä½œï¼Œè€Œæˆ‘å´ä»€ä¹ˆä¹Ÿä¸ä¼šï¼Œè‡³æ­¤æˆ‘èµ°ä¸Šäº†å­¦ä¹ å‰ç«¯çš„æ¼«é•¿æ—…é€”ã€‚ä»ä¸Šå¤§å­¦å¼€å§‹åˆ°é‚£å¹´ï¼Œæˆ‘ä»ä¸€ä¸ªä¸å­¦æ— æœ¯ï¼Œæˆå¤©æ²‰è¿·äºæ¸¸æˆçš„æˆ‘ï¼ŒæˆåŠŸèœ•å˜æˆäº†ä¸€ä¸ªæ­£åœ¨åŠªåŠ›çˆ±å­¦ä¹ çš„ \`ç¨‹åºçŒ¿\`ã€‚

> 6666 **8888**

æ¬¢è¿æ¥åˆ°[yimicijiçš„ä¸»é¡µ](http://localhost:3000 "yimicijiçš„ä¸»é¡µ")

ç±»å‹ | ä¹¦ç±
:---: | :---:
Android | ã€Šç¬¬ä¸€è¡Œä»£ç ã€‹ <br> ã€ŠAndroid å¼€å‘è‰ºæœ¯æ¢ç´¢ã€‹
Java | ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹

### èœ•å˜è¿‡ç¨‹

20 å¹´ 10 æœˆåº•ï¼Œåˆæ¬¡æ¥è§¦å‰ç«¯çš„æˆ‘ï¼Œé‚£ä¸ªæ—¶å€™æˆ‘è¿ å‰ç«¯ æœ€åŸºæœ¬çš„ htmlï¼Œcss éƒ½å†™ä¸æ˜ç™½ï¼Œå°±è¿ç¼–è¾‘å™¨ä¹Ÿç”¨çš„äº‘é‡Œé›¾é‡Œï¼Œé‚£ä¸ªæ—¶å€™å°±å¼€å§‹æ€€ç–‘è‡ªå·±åˆ°åº•é€‚ä¸é€‚åˆå­¦ï¼Œç„¶åä¹Ÿæ˜¯å› ä¸ºåˆ«äººçš„é¼“åŠ±ï¼Œæˆ‘æ‰å¾—ä»¥ä¸€æ­¥ä¸€æ­¥åšæŒä¸‹æ¥ï¼Œæ‰æœ‰äº†ç°åœ¨çš„æ°´å¹³ã€‚ä»ä»€ä¹ˆéƒ½ä¸æ‡‚çš„å°ç™½ï¼Œåˆ°ç°åœ¨èƒ½ç‹¬ç«‹çš„å¼€å‘é¡¹ç›®ï¼Œè¿›æ­¥è¿˜æ˜¯è›®å¤§æ»´ï¼Œå˜¿å˜¿ï¼Œè™½ç„¶è¿‡ç¨‹å¾ˆè‰°è¾›ï¼Œä½†æ˜¯ç»“æœè¿˜æ˜¯ç¾å¥½æ»´ï¼Œæ‰€ä»¥å‘€ï¼Œå±å¹•å‰çš„é™Œç”Ÿäººï¼Œä½ å¦‚æœä¹Ÿæœ‰è·Ÿæˆ‘å½“åˆä¸€æ ·çš„å›°æƒ‘ï¼Œè¿·èŒ«ï¼Œè¯·ä¸è¦æ”¾å¼ƒå’Œæ€€ç–‘è‡ªå·±ï¼Œæ²¡æœ‰äººå¤©ç”Ÿå°±ä¼šï¼Œåªèƒ½é è‡ªå·±ä¸€æ­¥ä¸€æ­¥çš„ç§¯ç´¯ï¼Œæ…¢æ…¢çš„ä½ ä¹Ÿä¼šæˆä¸ºé‚£ä¸ªä½ æƒ³æˆä¸ºçš„äººã€‚

### å­¦ä¹ æˆé•¿

**æŠ€æœ¯æ ˆä¸æ–­å®Œå–„**

- HTML - CSS - JavaScript
- TypeScript
- Vue - Vue3
- React
- Node.js
- MySql - MongoDB
- ...

### ä¸€ç‚¹å»ºè®®(é€ç»™å¤§å®¶ï¼Œä¹Ÿé€ç»™æˆ‘è‡ªå·±)

#### ç¨‹åºå‘˜çš„å†™ä½œä¹‹è·¯æ˜¯æœ‰å¿…è¦çš„

å†™åšå®¢å¯ä»¥è®©æˆ‘ä»¬å¾—åˆ°æˆé•¿ï¼Œå¯ä»¥è®©æ›´å¤šäººçœ‹åˆ°ä½ çš„æ–‡ç« ï¼Œè¿˜èƒ½æé«˜è‡ªå·±çš„æŠ€æœ¯ã€‚åšå®¢ä¸ç¬”è®°ä¸åŒï¼Œåšå®¢ä¸ä»…éœ€è¦è‡ªå·±èƒ½çœ‹æ‡‚ï¼Œè¿˜éœ€è¦è¯»ä½ åšå®¢çš„äººä¹Ÿèƒ½çœ‹æ‡‚ï¼Œå‘å¸ƒåšå®¢ä¹‹åï¼Œå¯èƒ½ä¼šæ”¶åˆ°èµè®¸å’Œæ‰¹è¯„ï¼Œæˆ‘ä»¬è¦å­¦ä¼šæ¥å—æ‰¹è¯„ï¼Œæ‰èƒ½è®©æˆ‘ä»¬èƒ½å¤Ÿå¾—åˆ°è¿›ä¸€æ­¥çš„æˆé•¿ï¼Œå¾—åˆ°èµè®¸ä¹Ÿä¸è¦éª„å‚²ï¼Œéœ€è¦å†æ¥å†å‰ï¼Œäº‰å–å†™å‡ºæ›´å¤šæœ‰è´¨é‡çš„æ–‡ç« ã€‚

#### åšä¸€ä¸ªæœ‰é—®é¢˜çš„äºº

æˆ‘ä»¬ä½œä¸ºç¨‹åºçŒ¿æ›´å¤šçš„æ—¶å€™åº”è¯¥åœ¨äºæ€è€ƒï¼Œè¦å¤šæƒ³æƒ³ä¸ºä»€ä¹ˆï¼Œä¸è¦åªåœç•™åœ¨åº”ç”¨å±‚é¢ï¼Œå¯ä»¥å¤šå»äº†è§£äº†è§£ä¸ºä»€ä¹ˆè¿™æ ·å†™ï¼Œ
è¿™ä¸ªå‡½æ•°æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œæˆ‘è‡ªå·±èƒ½ä¸èƒ½æ‰‹å†™ç®€å•çš„å®ç°ä¸€ä¸‹ï¼Œç­‰ç­‰ç­‰ï¼Œè¿™æ ·å°†æ¥è‚¯å®šä¼šå¯¹è‡ªå·±æœ‰å¾ˆå¤§çš„å¸®åŠ©

#### ä¸€å®šè¦æ³¨é‡ä¸åŸºç¡€

å°±æ‹¿å‰ç«¯æ¥ä¸¾æ —å­ï¼Œå‰ç«¯çš„æ¡†æ¶æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œå„å¼å„æ ·ï¼Œæ€»ç±»ç¹å¤šï¼Œä½†æ˜¯å½’æ ¹ç»“åº•æ¥è¯´ï¼Œè¿˜æ˜¯ JavaScriptï¼Œæ‰€æœ‰çš„æ¡†æ¶åŸç†æœ€ç»ˆä¹Ÿéƒ½æ˜¯ JavaScriptï¼Œæ‰€ä»¥ä¸è¦çœ‹æ¡†æ¶æ›´æ–°çš„å¿«ï¼Œåªè¦åŸºç¡€æ‰“ç‰¢äº†ï¼Œæ¡†æ¶æ›´æ–°çš„å†å¿«ï¼Œè‡ªå·±ä¹Ÿæ˜¯å¯ä»¥è½»æ¾ä¸Šæ‰‹çš„ï¼Œæ‰€ä»¥é‡ä¸­ä¹‹é‡å°±æ˜¯ä¸€å®šè¦æ‰“ç‰¢åŸºç¡€ï¼Œä¸è¦åƒæˆ‘ä¸€æ ·ï¼Œæœ€åå›å¤´æ¶è¡¥åŸºç¡€ ğŸ˜¢ğŸ˜¢ ...

#### å½“ä¸çŸ¥é“æ€ä¹ˆæå‡è‡ªå·±ï¼Œå‡ºå»é¢è¯•ä¸€ä¸‹

å½“è‡ªå·±è¿›å…¥äº†ç“¶é¢ˆæœŸï¼Œè¿·èŒ«æœŸçš„æ—¶å€™ï¼Œä¸å¦¨å‡ºå»é¢è¯•ä¸€ä¸‹ï¼Œè®©é¢è¯•å®˜è™æ€ä¸€ä¸‹è‡ªå·±ï¼Œè®©è‡ªå·±äº†è§£åˆ°è‡ªå·±çš„ä¸è¶³ï¼Œé€šè¿‡å¼¥è¡¥è¿™äº›ä¸è¶³ï¼Œè®©è‡ªå·±å¿«é€Ÿæˆé•¿èµ·æ¥ï¼Œäº‰å–åŠæ‰“é¢è¯•å®˜ ğŸ˜‚ğŸ¤£ ...

### å±•æœ›æœªæ¥

**æŠ€æœ¯æå‡**

  - å­¦ä¹ æ•°æ®ç»“æ„å’Œç®—æ³•
  - TypeScript å®è·µ
  - JavaScript æ›´æ·±å…¥çš„å­¦ä¹ 
  - å‰ç«¯å·¥ç¨‹åŒ–å­¦ä¹ 
  - é¡¹ç›®éƒ¨ç½²è¿ç»´çŸ¥è¯†å­¦ä¹ 
  - ...
  å­¦æ— æ­¢å¢ƒå‘€ ... å˜»å˜»å˜» ğŸ˜ğŸ˜

**åšæŒçš„äº‹**

- èµ¶ç´§æ‰¾ä¸ªå¥³æœ‹å‹ï¼Œäº‰å–æ—©æ—¥è„±å•
- ä¸€å®šå¼€å§‹å†™æ–‡ç« ï¼Œæå‡è‡ªå·±
- ä¸è¦ç†¬å¤œäº†ï¼Œä¸è¦ç†¬å¤œäº†
- ...

### å…±å‹‰

æ„Ÿè°¢è¿™ä¸€è·¯èµ°è¿‡æ¥ï¼Œå¸®åŠ©è¿‡æˆ‘çš„æœ‹å‹ï¼Œ
ä¹Ÿå¸Œæœ›è‡ªå·±è¿˜è¦å„ä½é™Œç”Ÿäººä»¬ï¼Œèƒ½å¤Ÿæˆä¸ºä½ æƒ³æˆä¸ºçš„äººï¼ŒåŠ æ²¹ ğŸ‘
æœªæ¥çš„è·¯å¾ˆé•¿ï¼Œæˆ‘ä»¬ä¸€èµ·åŠªåŠ›
ğŸ˜ğŸ˜ ğŸ‘ğŸ‘


`

  const [msg, setMsg] = useState('')
  const [isLogin, setIsLogion] = useState(false)

  const onChange = (value: string) => {
    setMsg(value)
  }

  // ç•™è¨€æäº¤
  const onSubmit = () => {
    console.log('ç•™è¨€')
  }

  // å›å¤è¯„è®ºäº‹ä»¶
  const handlerReply = (id: number, content: string) => {
    console.log(content, id, 'å›å¤è¯„è®º')
  }

  // ç•™è¨€ / è¯„è®º ç‚¹å‡»å–œæ¬¢
  const handlerLike = (id: number) => {
    console.log('ç‚¹å‡»äº†å–œæ¬¢æŒ‰é’®', id)
  }

  useEffect(() => {
    const token = storage.get<string>('user_token')
    setIsLogion(!!token)
  }, [])

  const data = Array.from({ length: 23 }).map((_, i) => ({
    id: i,
    user: {
      username: `å‰ç«¯å´å½¦ç¥–_${i * 10}`,
      avatar:
        'https://p3-passport.byteacctimg.com/img/user-avatar/f0b821163b109a64e2b8a5189d27de67~300x300.image'
    },
    content: 'ä½ æ˜¯çœŸçš„è¦æˆ‘ç‹—å‘½ï¼Œçœ‹å®Œåæˆ‘è§‰å¾—è‡ªå·±å•¥éƒ½ä¸æ˜¯ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ',
    createtime: new Date(),
    children: (function test() {
      if (i % 2) {
        return Array.from({ length: 2 }).map((item, id) => ({
          id: (id + 1) * 10,
          user: {
            username: `å‰ç«¯å´å½¦ç¥–_${(id + 1) * 100}`,
            avatar:
              'https://p3-passport.byteacctimg.com/img/user-avatar/f0b821163b109a64e2b8a5189d27de67~300x300.image'
          },
          content: 'ä½ æ˜¯çœŸçš„è¦æˆ‘ç‹—å‘½ï¼Œçœ‹å®Œåæˆ‘è§‰å¾—è‡ªå·±å•¥éƒ½ä¸æ˜¯ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ',
          createtime: new Date()
        }))
      }

      return undefined
    })()
  }))

  return (
    <>
      <ArticleStyle>
        <div className="header">
          <h1 className="title">æˆ‘æ˜¯æ ‡é¢˜</h1>
          <div className="info">
            <div className="left">
              <img src="https://p26-passport.byteacctimg.com/img/user-avatar/ae82bf3bce57bbaa1782e18740868353~300x300.image" />
            </div>
            <div className="right">
              <div className="name">æˆ‘æ˜¯å§“å</div>
              <div>2022å¹´06æœˆ22æ—¥ 05:20 Â· é˜…è¯» 9999</div>
            </div>
          </div>
          <div className="cover">
            <img
              src="http://localhost:8888/upload/1657189319151-2019_end_year.jpg"
              alt=""
            />
          </div>
        </div>
        <div className="options">
          <Badge count={999} color="#c2c8d1">
            <LikeFilled />
          </Badge>
          <a href="#comment">
            <Badge count={999} color="#c2c8d1">
              <MessageFilled />
            </Badge>
          </a>
        </div>
        <ParseMd textConent={mdStr} />
        <div className="tags">
          æ ‡ç­¾ï¼š
          <Tag>React</Tag>
          <Tag>React</Tag>
          <Tag>React</Tag>
          <Tag>React</Tag>
          <Tag>React</Tag>
          <Tag>React</Tag>
          <Tag>React</Tag>
        </div>
      </ArticleStyle>

      <div
        className="comment"
        id="comment"
        style={{
          backgroundColor: '#fff',
          padding: '40px',
          borderRadius: '6px',
          marginTop: '10px'
        }}
      >
        <Comment
          describe="æ¬¢è¿å„ä½å¤§ä½¬ä»¬å‰æ¥åæ§½ ğŸ˜ğŸ˜"
          isLogin={isLogin}
          onChange={onChange}
          onSubmit={onSubmit}
          value={msg}
          mainText="è¯„è®º"
          list={data}
          handlerLike={handlerLike}
          reply={handlerReply}
        />
      </div>
    </>
  )
}

export default React.memo(Article)
